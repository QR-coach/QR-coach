<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Тренировки по QR</title>
<style>
  body {
    font-family: Arial, Helvetica, sans-serif;
    margin: 0;
    padding: 0;
    background: linear-gradient(135deg, #74ABE2, #5563DE);
    color: #fff;
  }
  .container {
    max-width: 800px;
    margin: 0 auto;
    padding: 20px;
    background: rgba(0,0,0,0.6);
    border-radius: 12px;
    margin-top: 40px;
  }
  h1 { text-align: center; }
  label { font-weight: bold; display: block; margin-top: 10px; }
  select, input[type=checkbox] { margin-top: 5px; }
  button {
    margin-top: 15px;
    padding: 10px 20px;
    background: #2ecc71;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-size: 16px;
  }
  .exercise {
    background: rgba(255,255,255,0.1);
    padding: 10px;
    margin-top: 10px;
    border-radius: 8px;
  }
  .exercise button {
    background: #3498db;
    font-size: 14px;
  }
  .modal {
    display: none;
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    background: rgba(0,0,0,0.8);
    justify-content: center;
    align-items: center;
  }
  .modal-content {
    background: white;
    color: black;
    padding: 20px;
    border-radius: 10px;
    max-width: 400px;
    text-align: center;
  }
</style>
</head>
<body>
<div class="container">
  <h1>Тренировки по QR</h1>
  <label>Выберите оборудование:</label>
  <label><input type="checkbox" value="bar"> Турник</label>
  <label><input type="checkbox" value="dip"> Брусья</label>
  <label><input type="checkbox" value="bench"> Лавочка</label>
  <label><input type="checkbox" value="decline"> Наклонная скамья</label>
  <label><input type="checkbox" value="wallbar"> Шведская стенка</label>

  <label>Уровень:</label>
  <select id="level">
    <option value="beginner">Начинающий</option>
    <option value="intermediate">Средний</option>
    <option value="advanced">Продвинутый</option>
  </select>

  <label>Группа мышц:</label>
  <select id="goal">
    <option value="chest">Грудь</option>
    <option value="back">Спина</option>
    <option value="abs">Пресс</option>
    <option value="arms">Руки</option>
    <option value="legs">Ноги</option>
    <option value="cardio">Кардио</option>
  </select>

  <button onclick="generatePlan()">Составить план</button>
  <div id="plan"></div>
</div>

<div id="modal" class="modal">
  <div class="modal-content">
    <p>Под выбранную комбинацию оборудования и группы мышц упражнения не найдены. Пожалуйста, измените выбор.</p>
    <button onclick="closeModal()">OK</button>
  </div>
</div>

<script>
const EXERCISES = [
  {name:'Скакалка', equip:[], muscles:['cardio'], video:'https://www.youtube.com/watch?v=UZs7YFGms5U'},
  {name:'Берпи', equip:[], muscles:['cardio'], video:'https://www.youtube.com/watch?v=50-0F_gQHFI'},
  {name:'Прыжки с разведением рук', equip:[], muscles:['cardio','legs'], video:'https://www.youtube.com/watch?v=W25ARtL80Yc'},
  {name:'Бег на месте', equip:[], muscles:['cardio'], video:'https://www.youtube.com/watch?v=jZe2r6Uc4Ng'},
  {name:'Подтягивания классические', equip:['bar'], muscles:['back','arms'], video:'https://www.youtube.com/watch?v=Smb8BTBBomc'},
  {name:'Растяжка (разведение ног - вис)', equip:['bar'], muscles:['mobility'], video:'https://www.youtube.com/watch?v=rtW54YJUj30'},
  {name:'Подтягивания обратным хватом', equip:['bar'], muscles:['back','arms'], video:'https://www.youtube.com/watch?v=dU6TUDI6Iy8'},
  {name:'Планка с упором ног в стенку', equip:['wallbar'], muscles:['abs','core'], video:'https://www.youtube.com/watch?v=yD1BtxTcMok'},
  {name:'Подтягивания широким хватом', equip:['bar'], muscles:['back'], video:'https://www.youtube.com/watch?v=nZfjZn6IH-M'},
  {name:'Русский твист', equip:['decline'], muscles:['abs'], video:'https://www.youtube.com/watch?v=s1MPXo84gFA'},
  {name:'Подъём коленей/ног в висе', equip:['bar'], muscles:['abs'], video:'https://www.youtube.com/watch?v=DiboGq-6Xkw'},
  {name:'Скручивания на наклонной скамье', equip:['decline'], muscles:['abs'], video:'https://www.youtube.com/watch?v=7j2xB1SR6jw'},
  {name:'Болгарские выпады', equip:['bench'], muscles:['legs'], video:'https://www.youtube.com/watch?v=Ol21mdPfmJs'},
  {name:'Прыжки на лавку', equip:['bench'], muscles:['legs','cardio'], video:'https://www.youtube.com/watch?v=oPzFzX87dE4'},
  {name:'Отжимания на брусьях', equip:['dip'], muscles:['chest','arms'], video:'https://www.youtube.com/watch?v=pF_3A66lxpQ'},
  {name:'Подъём коленей в упоре на брусьях', equip:['dip'], muscles:['abs'], video:'https://www.youtube.com/watch?v=8HLQfi58xhA'},
  {name:'Отжимания ногами на лавке', equip:['bench'], muscles:['chest','legs'], video:'https://www.youtube.com/watch?v=zPTf2Ub_kEs'},
  {name:'Обратные отжимания на лавке', equip:['bench'], muscles:['arms'], video:'https://www.youtube.com/watch?v=C6QV5J1gulk'}
];

function generatePlan(){
  const checked = Array.from(document.querySelectorAll('input[type=checkbox]:checked')).map(c=>c.value);
  const goal = document.getElementById('goal').value;

  let filtered = EXERCISES.filter(ex => {
    if(checked.length > 0 && ex.equip.length > 0){
      return ex.equip.some(eq => checked.includes(eq)) && ex.muscles.includes(goal);
    } else if(checked.length > 0 && ex.equip.length === 0){
      return ex.muscles.includes(goal);
    } else if(checked.length === 0){
      return ex.muscles.includes(goal) && ex.equip.length === 0;
    }
    return false;
  });

  if(filtered.length === 0){
    document.getElementById('modal').style.display = 'flex';
    document.getElementById('plan').innerHTML = '';
    return;
  }

  let html = '';
  filtered.forEach(ex => {
    html += `<div class="exercise"><strong>${ex.name}</strong><br><button onclick=\"window.open('${ex.video}','_blank')\">Смотреть технику</button></div>`;
  });

  document.getElementById('plan').innerHTML = html;
}
function closeModal(){
  document.getElementById('modal').style.display = 'none';
}
</script>
</body>
</html>
